const client=io();const messageContainer=document.querySelector('#message-container');const messageForm=document.querySelector('#send-container');const messageInput=document.querySelector('#message-input');const deleteDb=document.querySelector('#delete');const text_area=document.querySelector('#text-area');const isTyping=document.querySelector('#isTyping');const name=prompt('what is your name ? ');appendMessage('....welcome..... ');client.emit('new-user',name);client.on('user-connected',name=>{setTimeout(()=>{window.alert(`${name}connected`)},1000)});client.on('user-disconnected',name=>{window.alert(`${name}---disconnected`)});messageInput.addEventListener("keypress",()=>{client.emit("typing",{message:"typing....."})});client.on("notifyTyping",data=>{isTyping.innerText=data.message;console.log(data.message)});messageInput.addEventListener("keyup",()=>{client.emit("stopTyping","")});client.on("notifyStopTyping",()=>{isTyping.innerText=""});function manipText(text){text_area.innerHTML=text}function appendMessage(message){const messageElement=document.createElement('div');messageElement.innerText=message;messageContainer.append(messageElement)};client.on('emit-chat',message=>{manipText(message)});messageForm.addEventListener('submit',e=>{e.preventDefault();const message=messageInput.value;client.emit('emit-chat',message);const send={name:name,message:messageInput.value};sendMessage(send);messageInput.value=''});deleteDb.addEventListener('click',()=>{deletall();window.alert('data base ducuments deleted!!!')});function addMessages(message){const newname=document.createElement('h6');const newmessage=document.createElement('p');messageContainer.appendChild(newname).append(message.name);messageContainer.appendChild(newmessage).append(message.message)}function getMessages(){$.get('http://192.168.100:3000/api/messages',async(data)=>{const counter=data.length;const lastText=data[counter-1]})}async function sendMessage(message){await $.post('http://192.168.8.100:3000/api/messages',message)}function deletall(){$.ajax({method:'DELETE',url:'http://127.0.0.1:3000/api/messages',contentType:'application/json',success:function(){console.log('success')},error:function(){console.log('error')}})}